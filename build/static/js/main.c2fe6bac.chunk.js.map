{"version":3,"sources":["components/personForm.js","components/numbers.js","components/filter.js","components/message.js","services.js","App.js","index.js"],"names":["PersonForm","handleNameChange","handleNumberChange","newName","newNumber","addNumber","class","onChange","value","type","onClick","RemoveButton","id","removeNumber","Numbers","persons","filter","className","p","name","toLowerCase","includes","map","classs","number","Filter","handleFilterChange","filterWith","Message","message","baseUrl","console","log","axios","get","then","response","data","newObject","post","delete","put","App","useState","setPersons","setNewName","setNewNumber","setFilterWith","setMessage","useEffect","services","showMessage","toShow","setTimeout","updateNumber","person","catch","error","event","target","preventDefault","personObject","every","concat","window","confirm","find","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c2fe6bac.chunk.js","sourcesContent":["\r\n\r\nconst PersonForm = ({handleNameChange, handleNumberChange, newName, newNumber, addNumber}) => {\r\n    return (      \r\n        <form class=\"person-form\">\r\n            <div class=\"name-input flex-space-between\">\r\n                Name: <input onChange={handleNameChange} value={newName}/>\r\n            </div>\r\n            <div class=\"number-input flex-space-between\">\r\n                Number: <input onChange={handleNumberChange} value={newNumber}/>\r\n            </div>\r\n            <div>\r\n                <button class=\"add-btn\" type=\"submit\" onClick={addNumber}>Add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","\r\nconst Numbers = ({ persons, filter, removeNumber }) => {\r\n  return (\r\n    <div class=\"persons\">\r\n      <div className=\"flex-space-between persons-header\"><div class=\"name heading\">Name</div> <div class=\"number heading\">Number</div><div></div></div>\r\n      {persons\r\n        .filter(p => p.name.toLowerCase().includes(filter))\r\n          .map(p => {\r\n          return(\r\n            <div key={p.id} class=\"flex-space-between person\">\r\n              <div class=\"name\">{p.name}</div> <div classs=\"number\">{p.number} </div><RemoveButton id={p.id} removeNumber={removeNumber}/>\r\n            </div>\r\n          )\r\n          })}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst RemoveButton = ({ id, removeNumber }) => <button onClick={() => removeNumber(id)}>delete</button>\r\n\r\nexport default Numbers","\r\nconst Filter = ({ handleFilterChange, filterWith }) => {\r\n   return( \r\n   <div class=\"filter flex-space-between\">\r\n        Filter shown with&nbsp; <input onChange={ handleFilterChange } value={filterWith}/>\r\n    </div>\r\n   )\r\n}\r\n\r\nexport default Filter","\r\nconst Message = ({ message }) => {\r\n\r\n    if(message==null) {\r\n        return null\r\n    }\r\n\r\n    return(\r\n        <div class = \"message\">\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Message","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    console.log('Get', baseUrl)\r\n    return axios\r\n        .get(baseUrl)\r\n        .then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    return axios\r\n        .post(baseUrl, newObject)\r\n        .then(response => response.data)\r\n        \r\n}\r\n\r\nconst remove = id => {\r\n    return axios\r\n        .delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst update = newObject => {\r\n    return axios\r\n            .put(`${baseUrl}/${newObject.id}`, newObject)\r\n            .then(response => response.data)\r\n} \r\n\r\nexport default { getAll, create, remove, update }","import React, { useEffect, useState } from 'react'\n\nimport PersonForm from './components/personForm'\nimport Numbers from './components/numbers'\nimport Filter from './components/filter'\nimport Message from './components/message'\n\nimport services from './services'\n\nconst App = () => {\n\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filterWith, setFilterWith] = useState('')\n  const [message, setMessage] = useState(null)\n\n  useEffect(() => {\n    services\n      .getAll()\n      .then((response) => setPersons(response))\n  }, [])\n\n  const showMessage = (toShow) => {\n    setMessage(toShow)\n    setTimeout(() => setMessage(null), 3000)\n  }\n\n  const addNumber = (event) => {\n    event.preventDefault()\n\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    if (persons.every(p => p.name !== newName)) {\n      services\n        .create(personObject)\n        .then((response) => {\n          setPersons(persons.concat(response))\n          showMessage(`Added ${response.name}`)\n        })\n        .catch(error => {\n          console.log(error)\n          showMessage(error.response.data.error)\n        })\n    } else if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n      updateNumber({ ...personObject, id: persons.find(p => p.name === newName).id })\n    }\n\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const removeNumber = (id) => {\n    const name = persons.find(p => p.id === id).name\n    if (window.confirm(`Delete ${name}?`)) {\n      services\n        .remove(id)\n        .then(response => {\n          setPersons(persons.filter(person => person.id !== id))\n          showMessage(`Deleted ${name}`)\n        })\n        .catch(response => {\n          showMessage(`Information of ${name} has already been removed from server`)\n        })\n    }\n  }\n\n  const updateNumber = (newObject) => {\n    console.log(newObject)\n    services\n      .update(newObject)\n      .then(response => {\n        setPersons(persons.map(person => person.id !== response.id ? person : response))\n        showMessage(`Updated ${response.name}`)\n      })\n      .catch(error => {\n        console.log(error)\n        showMessage(error.response.data)\n      })\n      \n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilterWith(event.target.value.toLowerCase())\n  }\n\n  return (\n    <div>\n\n      <Message message={message} />\n      <div class=\"phonebook\">\n        <h2>Phonebook</h2>\n\n        <Filter handleFilterChange={handleFilterChange} filterWith={filterWith} />\n\n        <h2>Add a new number</h2>\n\n        <PersonForm handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} newName={newName} newNumber={newNumber} addNumber={addNumber} />\n\n        <h2>Numbers</h2>\n\n        <Numbers persons={persons} filter={filterWith} removeNumber={removeNumber} />\n      </div>\n    </div>\n  )\n\n}\n\nexport default App\n","import ReactDOM from 'react-dom';\nimport App from './App';\nimport './App.css';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}