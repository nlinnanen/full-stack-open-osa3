{"version":3,"sources":["components/personForm.js","components/numbers.js","components/filter.js","components/message.js","services.js","App.js","index.js"],"names":["PersonForm","handleNameChange","handleNumberChange","newName","newNumber","addNumber","onChange","value","type","onClick","RemoveButton","id","removeNumber","Numbers","persons","filter","p","name","toLowerCase","includes","map","number","Filter","handleFilterChange","filterWith","Message","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","baseUrl","console","log","axios","get","then","response","data","newObject","post","delete","put","App","useState","setPersons","setNewName","setNewNumber","setFilterWith","setMessage","useEffect","services","showMessage","toShow","setTimeout","updateNumber","person","catch","event","target","preventDefault","personObject","every","concat","window","confirm","find","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.992c6f71.chunk.js","sourcesContent":["\r\n\r\nconst PersonForm = ({handleNameChange, handleNumberChange, newName, newNumber, addNumber}) => {\r\n    return (      \r\n        <form>\r\n            <div>\r\n                name: <input onChange={handleNameChange} value={newName}/>\r\n            </div>\r\n            <div>\r\n                number: <input onChange={handleNumberChange} value={newNumber}/>\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\" onClick={addNumber}>add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","\r\nconst Numbers = ({ persons, filter, removeNumber }) => {\r\n  return (\r\n    <>\r\n      {persons\r\n        .filter(p => p.name.toLowerCase().includes(filter))\r\n        .map(p => {\r\n        return(\r\n          <div key={p.id}>\r\n            {p.name}&nbsp;{p.number} <RemoveButton id={p.id} removeNumber={removeNumber}/>\r\n          </div>\r\n        )\r\n        })}\r\n    </>\r\n  )\r\n}\r\n\r\nconst RemoveButton = ({ id, removeNumber }) => <button onClick={() => removeNumber(id)}>delete</button>\r\n\r\nexport default Numbers","\r\nconst Filter = ({ handleFilterChange, filterWith }) => {\r\n   return( \r\n   <div>\r\n        filter shown with <input onChange={ handleFilterChange } value={filterWith}/>\r\n    </div>\r\n   )\r\n}\r\n\r\nexport default Filter","\r\nconst Message = ({ message }) => {\r\n    const messageStyle = {\r\n        color: 'red',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n\r\n    if(message==null) {\r\n        return null\r\n    }\r\n\r\n    return(\r\n        <div style={messageStyle}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Message","import axios from 'axios'\r\n\r\nconst baseUrl = 'https://secret-shore-65991.herokuapp.com/api/persons'\r\n\r\nconst getAll = () => {\r\n    console.log('Get', baseUrl)\r\n    return axios\r\n        .get(baseUrl)\r\n        .then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    return axios\r\n        .post(baseUrl, newObject)\r\n        .then((response) => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n    return axios\r\n        .delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst update = newObject => {\r\n    return axios\r\n            .put(`${baseUrl}/${newObject.id}`, newObject)\r\n            .then(response => response.data)\r\n} \r\n\r\nexport default { getAll, create, remove, update }","import React, { useEffect, useState } from 'react'\n\nimport PersonForm from './components/personForm'\nimport Numbers from './components/numbers'\nimport Filter from './components/filter'\nimport Message from './components/message'\n\nimport services from './services'\n\nconst App = () => {\n\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filterWith, setFilterWith] = useState('')\n  const [message, setMessage] = useState(null)\n\n  useEffect(() => {\n    services\n      .getAll()\n      .then((response) => setPersons(response))\n  }, [])\n\n  const showMessage = (toShow) => {\n    setMessage(toShow)\n    setTimeout(() => setMessage(null), 3000)\n  }\n  const addNumber = (event) => {\n    event.preventDefault()\n\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    if (persons.every(p => p.name !== newName)) {\n      services\n        .create(personObject)\n        .then((response) => {\n          setPersons(persons.concat(response))\n          showMessage(`Added ${response.name}`)\n        })\n    } else if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n      updateNumber({ ...personObject, id: persons.find(p => p.name === newName).id })\n    }\n\n    setNewName('')\n    setNewNumber('')\n  }\n\n\n  const removeNumber = (id) => {\n    const name = persons.find(p => p.id === id).name\n    if (window.confirm(`Delete ${name}?`)) {\n      services\n        .remove(id)\n        .then(response => {\n          setPersons(persons.filter(person => person.id !== id))\n          showMessage(`Deleted ${name}`)\n        })\n        .catch(response => {\n          showMessage(`Information of ${name} has already been removed from server`)\n        })\n    }\n  }\n\n  const updateNumber = (newObject) => {\n    console.log(newObject)\n    services\n      .update(newObject)\n      .then(response => {\n        setPersons(persons.map(person => person.id !== response.id ? person : response))\n        showMessage(`Updated ${response.name}`)\n      })\n      .catch(response => {\n        showMessage(`Information of ${newObject.name} has already been removed from server`)\n      })\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilterWith(event.target.value.toLowerCase())\n  }\n\n  return (\n    <div>\n\n      <Message message={message} />\n\n      <h2>Phonebook</h2>\n\n      <Filter handleFilterChange={handleFilterChange} filterWith={filterWith} />\n\n      <h2>add a new</h2>\n\n      <PersonForm handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} newName={newName} newNumber={newNumber} addNumber={addNumber} />\n\n      <h2>Numbers</h2>\n\n      <Numbers persons={persons} filter={filterWith} removeNumber={removeNumber} />\n    </div>\n  )\n\n}\n\nexport default App\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}